# 運用タスク

## タスク名

受注もSF経由のものを判別できるようにする

## 親タスクURLとこのタスクの説明

[Trello 879](https://trello.com/c/VKEfpOlS/879-3-受注もsf経由のものを判別できるようにする-05)

既に SF 経由で電脳 Oracle に登録された注文情報に SF からの注文フラグを設定する。

## 実行手順

1. SF データベース(sgsk_production) を見て SF で作成された注文の注文番号を抽出する。
    ```
    SELECT CONCAT('\'', GROUP_CONCAT(order_code SEPARATOR '\',\''), '\'')
      FROM sfr_sf_order_item
      WHERE order_code IS NOT NULL AND created_user <> 272;
    ```
1. 電脳 DB に接続して、上記注文に対応する DFW_J10F.FILLER10 を '1' に設定する。
   ```
   UPDATE DFW_J10F
      SET FILLER10='1'
      WHERE 受注番号 IN ('17T64986','17T65214','17T65416','17T65420','17T65426','17S17440','17T65585','17T65837','17T65957','17T66039','17S17653','17T66151','17T66162','17T66176','17T66177','17T66191','17S17693','17S17694','17T66219','17T66225','17T66366','17T66379','17T66396','17S17791','17T66555','17T66556','17S17814','17S17816','17T66583','17T66602','17S18078','17S18079','17S18082','17S18083','17T71814','17T71815','17T71822','17T71954','17T71976','17T72014','17T72304','17T73349','17T73357','17T73572','17T73741','17T73933','17S19895','17S19897','17T73949','17T74222','17T74735','17T75045','17T75061','17T75210','17S20287','17S20378','17T75863','17T76977','17T77675','17S20870','17T78347','17T82141','17T82151','17T82200','17T82201','17T82202','17T83521','18T02966','18S00792');
   -- ※ IN 内は 1 の手順で紹介した注文番号のリスト
   ```
